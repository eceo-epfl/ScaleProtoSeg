"""
Some constants related to Cityscapes, PASCA, ADE, and EM datasets
"""

EM_VAL_SIZE = 10
EM_RGB_2_ID = {0: 1, 255: 2}  # 0 is left for void based on our existing code
EM_ID_2_LABEL = {0: "background", 1: "cell"}  # shifted comapre to above like for ADE20k
# CLASS_WEIGHTS = [0.78, 0.22] # Weights for the two classes
CLASS_WEIGHTS = [1.0, 1.0]  # Weights for the two classes

MAX_PARTS_CITY = 5
MAX_PARTS_PASCAL = 24
PASCAL_FILTER_CLASS = [1, 5, 10, 11, 19]

# Taken from deeplabv2 trained on ImageNet
CITYSCAPES_MEAN = [0.485, 0.456, 0.406]
CITYSCAPES_STD = [0.229, 0.224, 0.225]

# Mapping of IDs to labels
# We follow https://github.com/mcordts/cityscapesScripts/blob/master/cityscapesscripts/helpers/labels.py
# We merge 'void' classes into one but other classes stay the same

CITYSCAPES_ID_2_LABEL = {
    0: "void",
    1: "void",
    2: "void",
    3: "void",
    4: "void",
    5: "void",
    6: "void",
    7: "road",
    8: "sidewalk",
    9: "parking",
    10: "rail track",
    11: "building",
    12: "wall",
    13: "fence",
    14: "guard rail",
    15: "bridge",
    16: "tunnel",
    17: "pole",
    18: "polegroup",
    19: "traffic light",
    20: "traffic sign",
    21: "vegetation",
    22: "terrain",
    23: "sky",
    24: "person",
    25: "rider",
    26: "car",
    27: "truck",
    28: "bus",
    29: "caravan",
    30: "trailer",
    31: "train",
    32: "motorcycle",
    33: "bicycle",
    -1: "license plate",
}

CITYSCAPES_CATEGORIES = [
    "void",
    "road",
    "sidewalk",
    "parking",
    "rail track",
    "building",
    "wall",
    "fence",
    "guard rail",
    "bridge",
    "tunnel",
    "pole",
    "polegroup",
    "traffic light",
    "traffic sign",
    "vegetation",
    "terrain",
    "sky",
    "person",
    "rider",
    "car",
    "truck",
    "bus",
    "caravan",
    "trailer",
    "train",
    "motorcycle",
    "bicycle",
    "license plate",
]

CITYSCAPES_19_EVAL_CATEGORIES = {
    0: 0,
    1: 1,
    2: 2,
    3: 0,
    4: 0,
    5: 3,
    6: 4,
    7: 5,
    8: 0,
    9: 0,
    10: 0,
    11: 6,
    12: 0,
    13: 7,
    14: 8,
    15: 9,
    16: 10,
    17: 11,
    18: 12,
    19: 13,
    20: 14,
    21: 15,
    22: 16,
    23: 0,
    24: 0,
    25: 17,
    26: 18,
    27: 19,
    28: 0,
}

PASCAL_ID_MAPPING = {
    255: 0,
    0: 1,
    1: 2,
    2: 3,
    3: 4,
    4: 5,
    5: 6,
    6: 7,
    7: 8,
    8: 9,
    9: 10,
    10: 11,
    11: 12,
    12: 13,
    13: 14,
    14: 15,
    15: 16,
    16: 17,
    17: 18,
    18: 19,
    19: 20,
    20: 21,
}

PASCAL_CATEGORIES = [
    "void",
    "__background__",
    "aeroplane",
    "bicycle",
    "bird",
    "boat",
    "bottle",
    "bus",
    "car",
    "cat",
    "chair",
    "cow",
    "diningtable",
    "dog",
    "horse",
    "motorbike",
    "person",
    "pottedplant",
    "sheep",
    "sofa",
    "train",
    "tvmonitor",
]

# Shifted of -1 compared to real IDs to take into account the void class
ADE20k_ID_2_LABEL = {
    0: "wall",
    1: "building",
    2: "sky",
    3: "floor",
    4: "tree",
    5: "ceiling",
    6: "road",
    7: "bed",
    8: "windowpane",
    9: "grass",
    10: "cabinet",
    11: "sidewalk",
    12: "person",
    13: "earth",
    14: "door",
    15: "table",
    16: "mountain",
    17: "plant",
    18: "curtain",
    19: "chair",
    20: "car",
    21: "water",
    22: "painting",
    23: "sofa",
    24: "shelf",
    25: "house",
    26: "sea",
    27: "mirror",
    28: "rug",
    29: "field",
    30: "armchair",
    31: "seat",
    32: "fence",
    33: "desk",
    34: "rock",
    35: "wardrobe",
    36: "lamp",
    37: "bathtub",
    38: "railing",
    39: "cushion",
    40: "base",
    41: "box",
    42: "column",
    43: "signboard",
    44: "chest of drawers",
    45: "counter",
    46: "sand",
    47: "sink",
    48: "skyscraper",
    49: "fireplace",
    50: "refrigerator",
    51: "grandstand",
    52: "path",
    53: "stairs",
    54: "runway",
    55: "case",
    56: "pool table",
    57: "pillow",
    58: "screen door",
    59: "stairway",
    60: "river",
    61: "bridge",
    62: "bookcase",
    63: "blind",
    64: "coffee table",
    65: "toilet",
    66: "flower",
    67: "book",
    68: "hill",
    69: "bench",
    70: "countertop",
    71: "stove",
    72: "palm",
    73: "kitchen island",
    74: "computer",
    75: "swivel chair",
    76: "boat",
    77: "bar",
    78: "arcade machine",
    79: "hovel",
    80: "bus",
    81: "towel",
    82: "light",
    83: "truck",
    84: "tower",
    85: "chandelier",
    86: "awning",
    87: "streetlight",
    88: "booth",
    89: "television receiver",
    90: "airplane",
    91: "dirt track",
    92: "apparel",
    93: "pole",
    94: "land",
    95: "bannister",
    96: "escalator",
    97: "ottoman",
    98: "bottle",
    99: "buffet",
    100: "poster",
    101: "stage",
    102: "van",
    103: "ship",
    104: "fountain",
    105: "conveyer belt",
    106: "canopy",
    107: "washer",
    108: "plaything",
    109: "swimming pool",
    110: "stool",
    111: "barrel",
    112: "basket",
    113: "waterfall",
    114: "tent",
    115: "bag",
    116: "minibike",
    117: "cradle",
    118: "oven",
    119: "ball",
    120: "food",
    121: "step",
    122: "tank",
    123: "trade name",
    124: "microwave",
    125: "pot",
    126: "animal",
    127: "bicycle",
    128: "lake",
    129: "dishwasher",
    130: "screen",
    131: "blanket",
    132: "sculpture",
    133: "hood",
    134: "sconce",
    135: "vase",
    136: "traffic light",
    137: "tray",
    138: "ashcan",
    139: "fan",
    140: "pier",
    141: "crt screen",
    142: "plate",
    143: "monitor",
    144: "bulletin board",
    145: "shower",
    146: "radiator",
    147: "glass",
    148: "clock",
    149: "flag",
}

COCO_ID_MAPPING = {i: i + 1 for i in range(182)}
COCO_ID_MAPPING[255] = 0

# Shifted of -1 compared to real IDs to take into account the void class
# EVAL pred + 1 is done and TRAIN gt - 1 is done
COCO_ID_2_LABEL = {
    0: "person",
    1: "bicycle",
    2: "car",
    3: "motorcycle",
    4: "airplane",
    5: "bus",
    6: "train",
    7: "truck",
    8: "boat",
    9: "traffic light",
    10: "fire hydrant",
    11: "street sign",
    12: "stop sign",
    13: "parking meter",
    14: "bench",
    15: "bird",
    16: "cat",
    17: "dog",
    18: "horse",
    19: "sheep",
    20: "cow",
    21: "elephant",
    22: "bear",
    23: "zebra",
    24: "giraffe",
    25: "hat",
    26: "backpack",
    27: "umbrella",
    28: "shoe",
    29: "eye glasses",
    30: "handbag",
    31: "tie",
    32: "suitcase",
    33: "frisbee",
    34: "skis",
    35: "snowboard",
    36: "sports ball",
    37: "kite",
    38: "baseball bat",
    39: "baseball glove",
    40: "skateboard",
    41: "surfboard",
    42: "tennis racket",
    43: "bottle",
    44: "plate",
    45: "wine glass",
    46: "cup",
    47: "fork",
    48: "knife",
    49: "spoon",
    50: "bowl",
    51: "banana",
    52: "apple",
    53: "sandwich",
    54: "orange",
    55: "broccoli",
    56: "carrot",
    57: "hot dog",
    58: "pizza",
    59: "donut",
    60: "cake",
    61: "chair",
    62: "couch",
    63: "potted plant",
    64: "bed",
    65: "mirror",
    66: "dining table",
    67: "window",
    68: "desk",
    69: "toilet",
    70: "door",
    71: "tv",
    72: "laptop",
    73: "mouse",
    74: "remote",
    75: "keyboard",
    76: "cell phone",
    77: "microwave",
    78: "oven",
    79: "toaster",
    80: "sink",
    81: "refrigerator",
    82: "blender",
    83: "book",
    84: "clock",
    85: "vase",
    86: "scissors",
    87: "teddy bear",
    88: "hair drier",
    89: "toothbrush",
    90: "hair brush",
    91: "banner",
    92: "blanket",
    93: "branch",
    94: "bridge",
    95: "building-other",
    96: "bush",
    97: "cabinet",
    98: "cage",
    99: "cardboard",
    100: "carpet",
    101: "ceiling-other",
    102: "ceiling-tile",
    103: "cloth",
    104: "clothes",
    105: "clouds",
    106: "counter",
    107: "cupboard",
    108: "curtain",
    109: "desk-stuff",
    110: "dirt",
    111: "door-stuff",
    112: "fence",
    113: "floor-marble",
    114: "floor-other",
    115: "floor-stone",
    116: "floor-tile",
    117: "floor-wood",
    118: "flower",
    119: "fog",
    120: "food-other",
    121: "fruit",
    122: "furniture-other",
    123: "grass",
    124: "gravel",
    125: "ground-other",
    126: "hill",
    127: "house",
    128: "leaves",
    129: "light",
    130: "mat",
    131: "metal",
    132: "mirror-stuff",
    133: "moss",
    134: "mountain",
    135: "mud",
    136: "napkin",
    137: "net",
    138: "paper",
    139: "pavement",
    140: "pillow",
    141: "plant-other",
    142: "plastic",
    143: "platform",
    144: "playingfield",
    145: "railing",
    146: "railroad",
    147: "river",
    148: "road",
    149: "rock",
    150: "roof",
    151: "rug",
    152: "salad",
    153: "sand",
    154: "sea",
    155: "shelf",
    156: "sky-other",
    157: "skyscraper",
    158: "snow",
    159: "solid-other",
    160: "stairs",
    161: "stone",
    162: "straw",
    163: "structural-other",
    164: "table",
    165: "tent",
    166: "textile-other",
    167: "towel",
    168: "tree",
    169: "vegetable",
    170: "wall-brick",
    171: "wall-concrete",
    172: "wall-other",
    173: "wall-panel",
    174: "wall-stone",
    175: "wall-tile",
    176: "wall-wood",
    177: "water-other",
    178: "waterdrops",
    179: "window-blind",
    180: "window-other",
    181: "wood",
}
